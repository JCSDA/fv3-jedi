input geometry:
  fms initialization:
    namelist filename: Data/fv3files/fmsmpp.nml
    field table filename: Data/fv3files/field_table_gfdl
  akbk: Data/fv3files/akbk72.nc4
  npx: 13
  npy: 13
  npz: 72
  fieldsets:
    - fieldset: Data/fieldsets/dynamics.yaml
    - fieldset: Data/fieldsets/ufo.yaml
output geometry:
  akbk: Data/fv3files/akbk72.nc4
  npx: 13
  npy: 13
  npz: 72
  fieldsets:
    - fieldset: Data/fieldsets/dynamics.yaml
    - fieldset: Data/fieldsets/ufo.yaml

variable change:
  variable change name: Model2GeoVaLs
  tropopause pressure method: thompson
  cloud effective radius method: gmao
  input variables: &inputvars [U,V,PT,PKZ,PE,Q,QILS,QLLS,QICN,QLCN,qr,qs,
                                PHIS,frocean,frlake,frseaice,
                                vtype,stype,vfrac,sheleg,ts,soilt,soilm,u10m,v10m]
  output variables: [rh,ps,tv,geopotential_height,
                      surface_altitude,mole_fraction_of_carbon_dioxide_in_air,
                      humidity_mixing_ratio,
                      mass_content_of_cloud_liquid_water_in_atmosphere_layer,
                      mass_content_of_cloud_ice_in_atmosphere_layer,
                      mass_content_of_rain_in_atmosphere_layer,
                      mass_content_of_snow_in_atmosphere_layer,
                      effective_radius_of_cloud_liquid_water_particle,
                      effective_radius_of_cloud_ice_particle,
                      effective_radius_of_rain_particle,
                      effective_radius_of_snow_particle,
                      water_area_fraction,
                      land_area_fraction,ice_area_fraction,surface_snow_area_fraction,
                      surface_temperature_where_sea, surface_temperature_where_land,
                      surface_temperature_where_ice,surface_temperature_where_snow,
                      surface_snow_thickness,vegetation_area_fraction,surface_wind_speed,
                      surface_wind_from_direction,leaf_area_index,
                      volume_fraction_of_condensed_water_in_soil,soil_temperature,
                      land_type_index_NPOESS,vegetation_type_index,soil_type,
                      vort,tropopause_pressure]
states:
- input:
    datetime: 2018-04-14T21:00:00Z
    state variables: *inputvars
    filetype: cube sphere history
    provider: geos
    datapath: Data/inputs/geos_c12
    filenames: [fvcore_internal_rst.20180414_21z.nc4,moist_internal_rst.20180414_21z.nc4,
                surf_import_rst.20180414_21z.nc4,geos.bkg.20180414_210000z.nc4,
                geos.bkg.crtmsrf.20180414_210000z.nc4]
    tile is a dimension: [false, false, false, true, true]
  output:
   filetype: cube sphere history
   provider: geos
   datapath: Data/
   filename: geovals.geos.%yyyy%mm%dd_%hh%MM%ssz.nc4

test:
  reference filename: testoutput/convertstate_geos_model2geovals.ref
  test output filename: testoutput/convertstate_geos_model2geovals.test.out
